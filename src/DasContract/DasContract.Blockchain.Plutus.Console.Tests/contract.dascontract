<Contract Id="9379b9eb-12aa-4b27-bacd-c2e0ba015664">
  <Name>Lock funds</Name>
  <ProcessDiagram>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn"&gt;&lt;bpmn:collaboration id="Collaboration_03muxl4"&gt;&lt;bpmn:participant id="Participant_1l34tnc" name="Main" processRef="Process_1" /&gt;&lt;bpmn:participant id="Participant_0f1ajue" name="Setup" processRef="Process_15zhvn9" /&gt;&lt;bpmn:participant id="Participant_1q8c89i" name="Failed withdrawal attempt" processRef="Process_1bv4t5p" /&gt;&lt;bpmn:participant id="Participant_0gjm629" name="Success withdrawal attempt" processRef="Process_0zngwjw" /&gt;&lt;/bpmn:collaboration&gt;&lt;bpmn:process id="Process_1" isExecutable="false"&gt;&lt;bpmn:startEvent id="Event_0ksg1sw"&gt;&lt;bpmn:outgoing&gt;Flow_0h5n92x&lt;/bpmn:outgoing&gt;&lt;/bpmn:startEvent&gt;&lt;bpmn:sequenceFlow id="Flow_0h5n92x" sourceRef="Event_0ksg1sw" targetRef="Activity_0idd9fm" /&gt;&lt;bpmn:callActivity id="Activity_0idd9fm" name="Process setup"&gt;&lt;bpmn:incoming&gt;Flow_0h5n92x&lt;/bpmn:incoming&gt;&lt;bpmn:outgoing&gt;Flow_06yf0ka&lt;/bpmn:outgoing&gt;&lt;/bpmn:callActivity&gt;&lt;bpmn:sequenceFlow id="Flow_0fp7svb" sourceRef="Activity_17tk9gc" targetRef="Activity_1qlyg25" /&gt;&lt;bpmn:sequenceFlow id="Flow_1j5cxjh" sourceRef="Activity_1qlyg25" targetRef="Activity_17tk9gc" /&gt;&lt;bpmn:sequenceFlow id="Flow_19wblvm" sourceRef="Event_002p5fn" targetRef="Activity_1pxb9fv" /&gt;&lt;bpmn:sequenceFlow id="Flow_1hzx8k8" sourceRef="Activity_1pxb9fv" targetRef="Event_0iks6ll" /&gt;&lt;bpmn:callActivity id="Activity_1qlyg25" name="Failed withdrawal"&gt;&lt;bpmn:incoming&gt;Flow_0fp7svb&lt;/bpmn:incoming&gt;&lt;bpmn:outgoing&gt;Flow_1j5cxjh&lt;/bpmn:outgoing&gt;&lt;/bpmn:callActivity&gt;&lt;bpmn:userTask id="Activity_17tk9gc" name="Try to withdraw"&gt;&lt;bpmn:incoming&gt;Flow_1j5cxjh&lt;/bpmn:incoming&gt;&lt;bpmn:incoming&gt;Flow_1u3pwdu&lt;/bpmn:incoming&gt;&lt;bpmn:outgoing&gt;Flow_0fp7svb&lt;/bpmn:outgoing&gt;&lt;/bpmn:userTask&gt;&lt;bpmn:boundaryEvent id="Event_002p5fn" attachedToRef="Activity_17tk9gc"&gt;&lt;bpmn:outgoing&gt;Flow_19wblvm&lt;/bpmn:outgoing&gt;&lt;bpmn:timerEventDefinition id="TimerEventDefinition_0zslwnu" /&gt;&lt;/bpmn:boundaryEvent&gt;&lt;bpmn:callActivity id="Activity_1pxb9fv" name="Success withdrawal"&gt;&lt;bpmn:incoming&gt;Flow_19wblvm&lt;/bpmn:incoming&gt;&lt;bpmn:outgoing&gt;Flow_1hzx8k8&lt;/bpmn:outgoing&gt;&lt;/bpmn:callActivity&gt;&lt;bpmn:endEvent id="Event_0iks6ll"&gt;&lt;bpmn:incoming&gt;Flow_1hzx8k8&lt;/bpmn:incoming&gt;&lt;/bpmn:endEvent&gt;&lt;bpmn:sequenceFlow id="Flow_06yf0ka" sourceRef="Activity_0idd9fm" targetRef="Activity_0ms6t4i" /&gt;&lt;bpmn:sequenceFlow id="Flow_1u3pwdu" sourceRef="Activity_0ms6t4i" targetRef="Activity_17tk9gc" /&gt;&lt;bpmn:userTask id="Activity_0ms6t4i" name="Deposit funds"&gt;&lt;bpmn:incoming&gt;Flow_06yf0ka&lt;/bpmn:incoming&gt;&lt;bpmn:outgoing&gt;Flow_1u3pwdu&lt;/bpmn:outgoing&gt;&lt;/bpmn:userTask&gt;&lt;/bpmn:process&gt;&lt;bpmn:process id="Process_15zhvn9"&gt;&lt;bpmn:sequenceFlow id="Flow_1v2e5g4" sourceRef="Event_02sye5p" targetRef="Activity_0s9s73g" /&gt;&lt;bpmn:startEvent id="Event_02sye5p"&gt;&lt;bpmn:outgoing&gt;Flow_1v2e5g4&lt;/bpmn:outgoing&gt;&lt;/bpmn:startEvent&gt;&lt;bpmn:userTask id="Activity_0s9s73g" name="Set amount and deadline"&gt;&lt;bpmn:incoming&gt;Flow_1v2e5g4&lt;/bpmn:incoming&gt;&lt;bpmn:outgoing&gt;Flow_1pau1i9&lt;/bpmn:outgoing&gt;&lt;/bpmn:userTask&gt;&lt;bpmn:sequenceFlow id="Flow_1pau1i9" sourceRef="Activity_0s9s73g" targetRef="Activity_1jabmli" /&gt;&lt;bpmn:sequenceFlow id="Flow_192w9sp" sourceRef="Activity_1jabmli" targetRef="Event_0i2gcej" /&gt;&lt;bpmn:endEvent id="Event_0i2gcej"&gt;&lt;bpmn:incoming&gt;Flow_192w9sp&lt;/bpmn:incoming&gt;&lt;/bpmn:endEvent&gt;&lt;bpmn:scriptTask id="Activity_1jabmli" name="Record amount and deadline informations"&gt;&lt;bpmn:incoming&gt;Flow_1pau1i9&lt;/bpmn:incoming&gt;&lt;bpmn:outgoing&gt;Flow_192w9sp&lt;/bpmn:outgoing&gt;&lt;/bpmn:scriptTask&gt;&lt;/bpmn:process&gt;&lt;bpmn:process id="Process_1bv4t5p"&gt;&lt;bpmn:scriptTask id="Activity_0z93ql7" name="Record withdrawal attempt"&gt;&lt;bpmn:incoming&gt;Flow_1qe9m8e&lt;/bpmn:incoming&gt;&lt;bpmn:outgoing&gt;Flow_0qaotyw&lt;/bpmn:outgoing&gt;&lt;/bpmn:scriptTask&gt;&lt;bpmn:startEvent id="Event_1azo6zz"&gt;&lt;bpmn:outgoing&gt;Flow_1qe9m8e&lt;/bpmn:outgoing&gt;&lt;/bpmn:startEvent&gt;&lt;bpmn:endEvent id="Event_16y9mgd"&gt;&lt;bpmn:incoming&gt;Flow_0qaotyw&lt;/bpmn:incoming&gt;&lt;/bpmn:endEvent&gt;&lt;bpmn:sequenceFlow id="Flow_1qe9m8e" sourceRef="Event_1azo6zz" targetRef="Activity_0z93ql7" /&gt;&lt;bpmn:sequenceFlow id="Flow_0qaotyw" sourceRef="Activity_0z93ql7" targetRef="Event_16y9mgd" /&gt;&lt;/bpmn:process&gt;&lt;bpmn:process id="Process_0zngwjw"&gt;&lt;bpmn:startEvent id="Event_0s1wkda"&gt;&lt;bpmn:outgoing&gt;Flow_0frf0pt&lt;/bpmn:outgoing&gt;&lt;/bpmn:startEvent&gt;&lt;bpmn:userTask id="Activity_0kp9l76" name="Withdraw"&gt;&lt;bpmn:incoming&gt;Flow_0frf0pt&lt;/bpmn:incoming&gt;&lt;bpmn:outgoing&gt;Flow_1c3dd6i&lt;/bpmn:outgoing&gt;&lt;/bpmn:userTask&gt;&lt;bpmn:scriptTask id="Activity_145od26" name="Record success"&gt;&lt;bpmn:incoming&gt;Flow_1c3dd6i&lt;/bpmn:incoming&gt;&lt;bpmn:outgoing&gt;Flow_1h89s0f&lt;/bpmn:outgoing&gt;&lt;/bpmn:scriptTask&gt;&lt;bpmn:endEvent id="Event_0d1zsfc"&gt;&lt;bpmn:incoming&gt;Flow_1h89s0f&lt;/bpmn:incoming&gt;&lt;/bpmn:endEvent&gt;&lt;bpmn:sequenceFlow id="Flow_0frf0pt" sourceRef="Event_0s1wkda" targetRef="Activity_0kp9l76" /&gt;&lt;bpmn:sequenceFlow id="Flow_1c3dd6i" sourceRef="Activity_0kp9l76" targetRef="Activity_145od26" /&gt;&lt;bpmn:sequenceFlow id="Flow_1h89s0f" sourceRef="Activity_145od26" targetRef="Event_0d1zsfc" /&gt;&lt;/bpmn:process&gt;&lt;bpmndi:BPMNDiagram id="BPMNDiagram_1"&gt;&lt;bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_03muxl4"&gt;&lt;bpmndi:BPMNShape id="Participant_1l34tnc_di" bpmnElement="Participant_1l34tnc" isHorizontal="true"&gt;&lt;dc:Bounds x="170" y="670" width="1110" height="250" /&gt;&lt;/bpmndi:BPMNShape&gt;&lt;bpmndi:BPMNEdge id="Flow_0h5n92x_di" bpmnElement="Flow_0h5n92x"&gt;&lt;di:waypoint x="258" y="840" /&gt;&lt;di:waypoint x="310" y="840" /&gt;&lt;/bpmndi:BPMNEdge&gt;&lt;bpmndi:BPMNEdge id="Flow_0fp7svb_di" bpmnElement="Flow_0fp7svb"&gt;&lt;di:waypoint x="710" y="820" /&gt;&lt;di:waypoint x="760" y="820" /&gt;&lt;/bpmndi:BPMNEdge&gt;&lt;bpmndi:BPMNEdge id="Flow_1j5cxjh_di" bpmnElement="Flow_1j5cxjh"&gt;&lt;di:waypoint x="760" y="860" /&gt;&lt;di:waypoint x="710" y="860" /&gt;&lt;/bpmndi:BPMNEdge&gt;&lt;bpmndi:BPMNEdge id="Flow_19wblvm_di" bpmnElement="Flow_19wblvm"&gt;&lt;di:waypoint x="680" y="782" /&gt;&lt;di:waypoint x="680" y="730" /&gt;&lt;di:waypoint x="760" y="730" /&gt;&lt;/bpmndi:BPMNEdge&gt;&lt;bpmndi:BPMNEdge id="Flow_1hzx8k8_di" bpmnElement="Flow_1hzx8k8"&gt;&lt;di:waypoint x="860" y="730" /&gt;&lt;di:waypoint x="922" y="730" /&gt;&lt;/bpmndi:BPMNEdge&gt;&lt;bpmndi:BPMNEdge id="Flow_06yf0ka_di" bpmnElement="Flow_06yf0ka"&gt;&lt;di:waypoint x="410" y="840" /&gt;&lt;di:waypoint x="460" y="840" /&gt;&lt;/bpmndi:BPMNEdge&gt;&lt;bpmndi:BPMNEdge id="Flow_1u3pwdu_di" bpmnElement="Flow_1u3pwdu"&gt;&lt;di:waypoint x="560" y="840" /&gt;&lt;di:waypoint x="610" y="840" /&gt;&lt;/bpmndi:BPMNEdge&gt;&lt;bpmndi:BPMNShape id="Event_0ksg1sw_di" bpmnElement="Event_0ksg1sw"&gt;&lt;dc:Bounds x="222" y="822" width="36" height="36" /&gt;&lt;/bpmndi:BPMNShape&gt;&lt;bpmndi:BPMNShape id="Activity_02rsxr4_di" bpmnElement="Activity_0idd9fm"&gt;&lt;dc:Bounds x="310" y="800" width="100" height="80" /&gt;&lt;/bpmndi:BPMNShape&gt;&lt;bpmndi:BPMNShape id="Activity_0onr06u_di" bpmnElement="Activity_1qlyg25"&gt;&lt;dc:Bounds x="760" y="800" width="100" height="80" /&gt;&lt;/bpmndi:BPMNShape&gt;&lt;bpmndi:BPMNShape id="Activity_1n6ouqs_di" bpmnElement="Activity_17tk9gc"&gt;&lt;dc:Bounds x="610" y="800" width="100" height="80" /&gt;&lt;/bpmndi:BPMNShape&gt;&lt;bpmndi:BPMNShape id="Activity_10ee7pu_di" bpmnElement="Activity_1pxb9fv"&gt;&lt;dc:Bounds x="760" y="690" width="100" height="80" /&gt;&lt;/bpmndi:BPMNShape&gt;&lt;bpmndi:BPMNShape id="Event_0iks6ll_di" bpmnElement="Event_0iks6ll"&gt;&lt;dc:Bounds x="922" y="712" width="36" height="36" /&gt;&lt;/bpmndi:BPMNShape&gt;&lt;bpmndi:BPMNShape id="Activity_014plin_di" bpmnElement="Activity_0ms6t4i"&gt;&lt;dc:Bounds x="460" y="800" width="100" height="80" /&gt;&lt;/bpmndi:BPMNShape&gt;&lt;bpmndi:BPMNShape id="Event_0xfx5ij_di" bpmnElement="Event_002p5fn"&gt;&lt;dc:Bounds x="662" y="782" width="36" height="36" /&gt;&lt;/bpmndi:BPMNShape&gt;&lt;bpmndi:BPMNShape id="Participant_0f1ajue_di" bpmnElement="Participant_0f1ajue" isHorizontal="true"&gt;&lt;dc:Bounds x="170" y="940" width="560" height="180" /&gt;&lt;/bpmndi:BPMNShape&gt;&lt;bpmndi:BPMNEdge id="Flow_1v2e5g4_di" bpmnElement="Flow_1v2e5g4"&gt;&lt;di:waypoint x="258" y="1030" /&gt;&lt;di:waypoint x="310" y="1030" /&gt;&lt;/bpmndi:BPMNEdge&gt;&lt;bpmndi:BPMNEdge id="Flow_1pau1i9_di" bpmnElement="Flow_1pau1i9"&gt;&lt;di:waypoint x="410" y="1030" /&gt;&lt;di:waypoint x="470" y="1030" /&gt;&lt;/bpmndi:BPMNEdge&gt;&lt;bpmndi:BPMNEdge id="Flow_192w9sp_di" bpmnElement="Flow_192w9sp"&gt;&lt;di:waypoint x="570" y="1030" /&gt;&lt;di:waypoint x="632" y="1030" /&gt;&lt;/bpmndi:BPMNEdge&gt;&lt;bpmndi:BPMNShape id="Event_02sye5p_di" bpmnElement="Event_02sye5p"&gt;&lt;dc:Bounds x="222" y="1012" width="36" height="36" /&gt;&lt;/bpmndi:BPMNShape&gt;&lt;bpmndi:BPMNShape id="Activity_0s9s73g_di" bpmnElement="Activity_0s9s73g"&gt;&lt;dc:Bounds x="310" y="990" width="100" height="80" /&gt;&lt;/bpmndi:BPMNShape&gt;&lt;bpmndi:BPMNShape id="Activity_1h3vych_di" bpmnElement="Activity_1jabmli"&gt;&lt;dc:Bounds x="470" y="990" width="100" height="80" /&gt;&lt;/bpmndi:BPMNShape&gt;&lt;bpmndi:BPMNShape id="Event_0i2gcej_di" bpmnElement="Event_0i2gcej"&gt;&lt;dc:Bounds x="632" y="1012" width="36" height="36" /&gt;&lt;/bpmndi:BPMNShape&gt;&lt;bpmndi:BPMNShape id="Participant_0gjm629_di" bpmnElement="Participant_0gjm629" isHorizontal="true"&gt;&lt;dc:Bounds x="760" y="940" width="520" height="180" /&gt;&lt;/bpmndi:BPMNShape&gt;&lt;bpmndi:BPMNEdge id="Flow_0frf0pt_di" bpmnElement="Flow_0frf0pt"&gt;&lt;di:waypoint x="878" y="1030" /&gt;&lt;di:waypoint x="910" y="1030" /&gt;&lt;/bpmndi:BPMNEdge&gt;&lt;bpmndi:BPMNEdge id="Flow_1c3dd6i_di" bpmnElement="Flow_1c3dd6i"&gt;&lt;di:waypoint x="1010" y="1030" /&gt;&lt;di:waypoint x="1050" y="1030" /&gt;&lt;/bpmndi:BPMNEdge&gt;&lt;bpmndi:BPMNEdge id="Flow_1h89s0f_di" bpmnElement="Flow_1h89s0f"&gt;&lt;di:waypoint x="1150" y="1030" /&gt;&lt;di:waypoint x="1182" y="1030" /&gt;&lt;/bpmndi:BPMNEdge&gt;&lt;bpmndi:BPMNShape id="Event_0s1wkda_di" bpmnElement="Event_0s1wkda"&gt;&lt;dc:Bounds x="842" y="1012" width="36" height="36" /&gt;&lt;/bpmndi:BPMNShape&gt;&lt;bpmndi:BPMNShape id="Activity_0kp9l76_di" bpmnElement="Activity_0kp9l76"&gt;&lt;dc:Bounds x="910" y="990" width="100" height="80" /&gt;&lt;/bpmndi:BPMNShape&gt;&lt;bpmndi:BPMNShape id="Activity_145od26_di" bpmnElement="Activity_145od26"&gt;&lt;dc:Bounds x="1050" y="990" width="100" height="80" /&gt;&lt;/bpmndi:BPMNShape&gt;&lt;bpmndi:BPMNShape id="Event_0d1zsfc_di" bpmnElement="Event_0d1zsfc"&gt;&lt;dc:Bounds x="1182" y="1012" width="36" height="36" /&gt;&lt;/bpmndi:BPMNShape&gt;&lt;bpmndi:BPMNShape id="Participant_1q8c89i_di" bpmnElement="Participant_1q8c89i" isHorizontal="true"&gt;&lt;dc:Bounds x="760" y="1140" width="520" height="180" /&gt;&lt;/bpmndi:BPMNShape&gt;&lt;bpmndi:BPMNEdge id="Flow_1qe9m8e_di" bpmnElement="Flow_1qe9m8e"&gt;&lt;di:waypoint x="878" y="1220" /&gt;&lt;di:waypoint x="920" y="1220" /&gt;&lt;/bpmndi:BPMNEdge&gt;&lt;bpmndi:BPMNEdge id="Flow_0qaotyw_di" bpmnElement="Flow_0qaotyw"&gt;&lt;di:waypoint x="1020" y="1220" /&gt;&lt;di:waypoint x="1072" y="1220" /&gt;&lt;/bpmndi:BPMNEdge&gt;&lt;bpmndi:BPMNShape id="Activity_01k3mdd_di" bpmnElement="Activity_0z93ql7"&gt;&lt;dc:Bounds x="920" y="1180" width="100" height="80" /&gt;&lt;/bpmndi:BPMNShape&gt;&lt;bpmndi:BPMNShape id="Event_1azo6zz_di" bpmnElement="Event_1azo6zz"&gt;&lt;dc:Bounds x="842" y="1202" width="36" height="36" /&gt;&lt;/bpmndi:BPMNShape&gt;&lt;bpmndi:BPMNShape id="Event_16y9mgd_di" bpmnElement="Event_16y9mgd"&gt;&lt;dc:Bounds x="1072" y="1202" width="36" height="36" /&gt;&lt;/bpmndi:BPMNShape&gt;&lt;/bpmndi:BPMNPlane&gt;&lt;/bpmndi:BPMNDiagram&gt;&lt;/bpmn:definitions&gt;</ProcessDiagram>
  <Processes>
    <Process Id="Process_1">
      <Name>Main</Name>
      <IsExecutable>true</IsExecutable>
      <ParticipantId></ParticipantId>
      <CustomScript></CustomScript>
      <SequenceFlows>
        <SequenceFlow Id="Flow_0h5n92x">
          <Name />
          <SourceId>Event_0ksg1sw</SourceId>
          <TargetId>Activity_0idd9fm</TargetId>
          <Condition></Condition>
        </SequenceFlow>
        <SequenceFlow Id="Flow_06yf0ka">
          <Name />
          <SourceId>Activity_0idd9fm</SourceId>
          <TargetId>Activity_0ms6t4i</TargetId>
          <Condition />
        </SequenceFlow>
        <SequenceFlow Id="Flow_11ay561">
          <Name></Name>
          <SourceId>Activity_17tk9gc</SourceId>
          <TargetId>Gateway_1rz9n0x</TargetId>
          <Condition></Condition>
        </SequenceFlow>
        <SequenceFlow Id="Flow_0q7lqa6">
          <Name />
          <SourceId>Activity_17tk9gc</SourceId>
          <TargetId>Activity_1gl20rx</TargetId>
          <Condition></Condition>
        </SequenceFlow>
        <SequenceFlow Id="Flow_0mdgwbf">
          <Name />
          <SourceId>Event_002p5fn</SourceId>
          <TargetId>Activity_1nr7toq</TargetId>
          <Condition></Condition>
        </SequenceFlow>
        <SequenceFlow Id="Flow_1hzx8k8">
          <Name />
          <SourceId>Activity_1pxb9fv</SourceId>
          <TargetId>Event_0iks6ll</TargetId>
          <Condition />
        </SequenceFlow>
        <SequenceFlow Id="Flow_19wblvm">
          <Name />
          <SourceId>Event_002p5fn</SourceId>
          <TargetId>Activity_1pxb9fv</TargetId>
          <Condition />
        </SequenceFlow>
        <SequenceFlow Id="Flow_0fp7svb">
          <Name />
          <SourceId>Activity_17tk9gc</SourceId>
          <TargetId>Activity_1qlyg25</TargetId>
          <Condition />
        </SequenceFlow>
        <SequenceFlow Id="Flow_1j5cxjh">
          <Name />
          <SourceId>Activity_1qlyg25</SourceId>
          <TargetId>Activity_17tk9gc</TargetId>
          <Condition />
        </SequenceFlow>
        <SequenceFlow Id="Flow_1u3pwdu">
          <Name />
          <SourceId>Activity_0ms6t4i</SourceId>
          <TargetId>Activity_17tk9gc</TargetId>
          <Condition />
        </SequenceFlow>
      </SequenceFlows>
      <ProcessElements>
        <CallActivity Id="Activity_0idd9fm">
          <Name>Process setup</Name>
          <Incoming>
            <IncomingId>Flow_0h5n92x</IncomingId>
          </Incoming>
          <Outgoing>
            <OutgoingId>Flow_06yf0ka</OutgoingId>
          </Outgoing>
          <InstanceType>Single</InstanceType>
          <LoopCardinality>0</LoopCardinality>
          <LoopCollection />
          <CalledElement>Process_15zhvn9</CalledElement>
        </CallActivity>
        <CallActivity Id="Activity_1pxb9fv">
          <Name>Success withdrawal</Name>
          <Incoming>
            <IncomingId>Flow_19wblvm</IncomingId>
          </Incoming>
          <Outgoing>
            <OutgoingId>Flow_1hzx8k8</OutgoingId>
          </Outgoing>
          <InstanceType>Single</InstanceType>
          <LoopCardinality>0</LoopCardinality>
          <LoopCollection />
          <CalledElement>Process_0zngwjw</CalledElement>
        </CallActivity>
        <StartEvent Id="Event_0ksg1sw">
          <Name />
          <Incoming />
          <Outgoing>
            <OutgoingId>Flow_0h5n92x</OutgoingId>
          </Outgoing>
        </StartEvent>
        <CallActivity Id="Activity_1qlyg25">
          <Name>Failed withdrawal</Name>
          <Incoming>
            <IncomingId>Flow_0fp7svb</IncomingId>
          </Incoming>
          <Outgoing>
            <OutgoingId>Flow_1j5cxjh</OutgoingId>
          </Outgoing>
          <InstanceType>Single</InstanceType>
          <LoopCardinality>0</LoopCardinality>
          <LoopCollection />
          <CalledElement>Process_1bv4t5p</CalledElement>
        </CallActivity>
        <UserTask Id="Activity_17tk9gc">
          <Name>Try to withdraw</Name>
          <Incoming>
            <IncomingId>Flow_1j5cxjh</IncomingId>
            <IncomingId>Flow_1u3pwdu</IncomingId>
          </Incoming>
          <Outgoing>
            <OutgoingId>Flow_0fp7svb</OutgoingId>
          </Outgoing>
          <InstanceType>Single</InstanceType>
          <LoopCardinality>0</LoopCardinality>
          <LoopCollection></LoopCollection>
          <TokenOperationType>Create</TokenOperationType>
          <Assignee>010805fd-94ca-481a-92cf-f5041eb72278</Assignee>
          <UserForm />
          <DueDateExpression></DueDateExpression>
          <FormDefinition>&lt;Form Label="Try to withdraw funds"&gt;
&lt;/Form&gt;</FormDefinition>
          <ValidationScript></ValidationScript>
          <CandidateUsers />
          <CandidateRoles />
        </UserTask>
        <TimerBoundaryEvent Id="Event_002p5fn">
          <Name />
          <Incoming />
          <Outgoing>
            <OutgoingId>Flow_19wblvm</OutgoingId>
          </Outgoing>
          <AttachedTo>Activity_17tk9gc</AttachedTo>
          <TimerDefinitionType>Date</TimerDefinitionType>
          <TimerDefinition>${lockDeadline datum}</TimerDefinition>
        </TimerBoundaryEvent>
        <EndEvent Id="Event_0iks6ll">
          <Name />
          <Incoming>
            <IncomingId>Flow_1hzx8k8</IncomingId>
          </Incoming>
          <Outgoing />
        </EndEvent>
        <UserTask Id="Activity_0ms6t4i">
          <Name>Deposit funds</Name>
          <Incoming>
            <IncomingId>Flow_06yf0ka</IncomingId>
          </Incoming>
          <Outgoing>
            <OutgoingId>Flow_1u3pwdu</OutgoingId>
          </Outgoing>
          <InstanceType>Single</InstanceType>
          <LoopCardinality>0</LoopCardinality>
          <LoopCollection />
          <TokenOperationType>Create</TokenOperationType>
          <Assignee>b9bccc77-380f-412c-9803-08f4f3e6eeca</Assignee>
          <UserForm />
          <DueDateExpression />
          <FormDefinition>&lt;Form Label="Deposit funds"&gt;
&lt;/Form&gt;</FormDefinition>
          <ValidationScript>{-# FORM_VALIDATION #-}
True

{-# EXPECTED_VALUE #-}
lovelaceValueOf 0

{-# NEW_VALUE #-}
lovelaceValueOf $ lockedLovelace datum

{-# CONSTRAINS #-}
mempty

{-# TRANSITION #-}
datum</ValidationScript>
          <CandidateUsers />
          <CandidateRoles />
        </UserTask>
      </ProcessElements>
    </Process>
    <Process Id="Process_15zhvn9">
      <Name>Setup</Name>
      <IsExecutable>false</IsExecutable>
      <ParticipantId>Participant_0f1ajue</ParticipantId>
      <CustomScript />
      <SequenceFlows>
        <SequenceFlow Id="Flow_1v2e5g4">
          <Name />
          <SourceId>Event_02sye5p</SourceId>
          <TargetId>Activity_0s9s73g</TargetId>
          <Condition />
        </SequenceFlow>
        <SequenceFlow Id="Flow_1pau1i9">
          <Name />
          <SourceId>Activity_0s9s73g</SourceId>
          <TargetId>Activity_1jabmli</TargetId>
          <Condition />
        </SequenceFlow>
        <SequenceFlow Id="Flow_192w9sp">
          <Name />
          <SourceId>Activity_1jabmli</SourceId>
          <TargetId>Event_0i2gcej</TargetId>
          <Condition />
        </SequenceFlow>
      </SequenceFlows>
      <ProcessElements>
        <UserTask Id="Activity_0s9s73g">
          <Name>Set amount and deadline</Name>
          <Incoming>
            <IncomingId>Flow_1v2e5g4</IncomingId>
          </Incoming>
          <Outgoing>
            <OutgoingId>Flow_1pau1i9</OutgoingId>
          </Outgoing>
          <InstanceType>Single</InstanceType>
          <LoopCardinality>0</LoopCardinality>
          <LoopCollection />
          <TokenOperationType>Create</TokenOperationType>
          <Assignee>b9bccc77-380f-412c-9803-08f4f3e6eeca</Assignee>
          <UserForm />
          <DueDateExpression />
          <FormDefinition>&lt;Form Label="Set locked amount of lovelace and deadline"&gt;
    &lt;FieldGroup&gt;
        &lt;IntField Label="Locked Lovelace Amount" /&gt;
        &lt;DateField Label="Lovelace Lock Deadline" /&gt;
    &lt;/FieldGroup&gt;
&lt;/Form&gt;</FormDefinition>
          <ValidationScript>{-# FORM_VALIDATION #-}
lockedLovelaceAmount form &gt; 0

{-# TRANSITION #-}
datum {
    lockedLovelace = lockedLovelaceAmount form
    lockDeadline = lovelaceLockDeadline form
}</ValidationScript>
          <CandidateUsers />
          <CandidateRoles />
        </UserTask>
        <StartEvent Id="Event_02sye5p">
          <Name />
          <Incoming />
          <Outgoing>
            <OutgoingId>Flow_1v2e5g4</OutgoingId>
          </Outgoing>
        </StartEvent>
        <EndEvent Id="Event_0i2gcej">
          <Name />
          <Incoming>
            <IncomingId>Flow_192w9sp</IncomingId>
          </Incoming>
          <Outgoing />
        </EndEvent>
        <ScriptTask Id="Activity_1jabmli">
          <Name>Record amount and deadline informations</Name>
          <Incoming>
            <IncomingId>Flow_1pau1i9</IncomingId>
          </Incoming>
          <Outgoing>
            <OutgoingId>Flow_192w9sp</OutgoingId>
          </Outgoing>
          <InstanceType>Single</InstanceType>
          <LoopCardinality>0</LoopCardinality>
          <LoopCollection />
          <TokenOperationType>Create</TokenOperationType>
          <Script>{-# TRANSITION #-}
let
    logMessage = "Locked " ++ (show $ datum lockedLovelace) ++ " until " (show $ datum lockDeadline)
in
    datum{
        messages = messages datum ++ [logMessage]
    }

</Script>
        </ScriptTask>
      </ProcessElements>
    </Process>
    <Process Id="Process_1bv4t5p">
      <Name>Failed withdrawal attempt</Name>
      <IsExecutable>false</IsExecutable>
      <ParticipantId>Participant_1q8c89i</ParticipantId>
      <CustomScript />
      <SequenceFlows>
        <SequenceFlow Id="Flow_1qe9m8e">
          <Name />
          <SourceId>Event_1azo6zz</SourceId>
          <TargetId>Activity_0z93ql7</TargetId>
          <Condition />
        </SequenceFlow>
        <SequenceFlow Id="Flow_0bxuzlc">
          <Name />
          <SourceId>Activity_0z93ql7</SourceId>
          <TargetId>Gateway_1jvj8d2</TargetId>
          <Condition />
        </SequenceFlow>
        <SequenceFlow Id="Flow_0qaotyw">
          <Name />
          <SourceId>Activity_0z93ql7</SourceId>
          <TargetId>Event_16y9mgd</TargetId>
          <Condition />
        </SequenceFlow>
      </SequenceFlows>
      <ProcessElements>
        <StartEvent Id="Event_1azo6zz">
          <Name />
          <Incoming />
          <Outgoing>
            <OutgoingId>Flow_1qe9m8e</OutgoingId>
          </Outgoing>
        </StartEvent>
        <EndEvent Id="Event_16y9mgd">
          <Name />
          <Incoming>
            <IncomingId>Flow_0qaotyw</IncomingId>
          </Incoming>
          <Outgoing />
        </EndEvent>
        <ScriptTask Id="Activity_0z93ql7">
          <Name>Record withdrawal attempt</Name>
          <Incoming>
            <IncomingId>Flow_1qe9m8e</IncomingId>
          </Incoming>
          <Outgoing>
            <OutgoingId>Flow_0qaotyw</OutgoingId>
          </Outgoing>
          <InstanceType>Single</InstanceType>
          <LoopCardinality>0</LoopCardinality>
          <LoopCollection />
          <TokenOperationType>Create</TokenOperationType>
          <Script />
        </ScriptTask>
      </ProcessElements>
    </Process>
    <Process Id="Process_0zngwjw">
      <Name>Success withdrawal attempt</Name>
      <IsExecutable>false</IsExecutable>
      <ParticipantId>Participant_0gjm629</ParticipantId>
      <CustomScript />
      <SequenceFlows>
        <SequenceFlow Id="Flow_00zp3ok">
          <Name />
          <SourceId>Event_0s1wkda</SourceId>
          <TargetId>Activity_077igva</TargetId>
          <Condition />
        </SequenceFlow>
        <SequenceFlow Id="Flow_0frf0pt">
          <Name />
          <SourceId>Event_0s1wkda</SourceId>
          <TargetId>Activity_0kp9l76</TargetId>
          <Condition />
        </SequenceFlow>
        <SequenceFlow Id="Flow_1c3dd6i">
          <Name />
          <SourceId>Activity_0kp9l76</SourceId>
          <TargetId>Activity_145od26</TargetId>
          <Condition />
        </SequenceFlow>
        <SequenceFlow Id="Flow_1h89s0f">
          <Name />
          <SourceId>Activity_145od26</SourceId>
          <TargetId>Event_0d1zsfc</TargetId>
          <Condition />
        </SequenceFlow>
      </SequenceFlows>
      <ProcessElements>
        <ScriptTask Id="Activity_145od26">
          <Name>Record success</Name>
          <Incoming>
            <IncomingId>Flow_1c3dd6i</IncomingId>
          </Incoming>
          <Outgoing>
            <OutgoingId>Flow_1h89s0f</OutgoingId>
          </Outgoing>
          <InstanceType>Single</InstanceType>
          <LoopCardinality>0</LoopCardinality>
          <LoopCollection />
          <TokenOperationType>Create</TokenOperationType>
          <Script />
        </ScriptTask>
        <StartEvent Id="Event_0s1wkda">
          <Name />
          <Incoming />
          <Outgoing>
            <OutgoingId>Flow_0frf0pt</OutgoingId>
          </Outgoing>
        </StartEvent>
        <EndEvent Id="Event_0d1zsfc">
          <Name />
          <Incoming>
            <IncomingId>Flow_1h89s0f</IncomingId>
          </Incoming>
          <Outgoing />
        </EndEvent>
        <UserTask Id="Activity_0kp9l76">
          <Name>Withdraw</Name>
          <Incoming>
            <IncomingId>Flow_0frf0pt</IncomingId>
          </Incoming>
          <Outgoing>
            <OutgoingId>Flow_1c3dd6i</OutgoingId>
          </Outgoing>
          <InstanceType>Single</InstanceType>
          <LoopCardinality>0</LoopCardinality>
          <LoopCollection />
          <TokenOperationType>Create</TokenOperationType>
          <UserForm />
          <DueDateExpression />
          <FormDefinition>&lt;Form Label="Funds are free. Do the withdrawal!"&gt;
&lt;/Form&gt;</FormDefinition>
          <ValidationScript>{-# FORM_VALIDATION #-}
True

{-# EXPECTED_VALUE #-}
lovelaceValueOf $ lockedLovelace datum

{-# NEW_VALUE #-}
lovelaceValueOf 0

{-# CONSTRAINS #-}
mempty

{-# TRANSITION #-}
datum</ValidationScript>
          <CandidateUsers />
          <CandidateRoles />
        </UserTask>
      </ProcessElements>
    </Process>
  </Processes>
  <Roles />
  <Users>
    <ProcessUser Id="b9bccc77-380f-412c-9803-08f4f3e6eeca">
      <Name>Depositer</Name>
      <Description>The one who deposits funds to be locked for a time</Description>
      <Address>123</Address>
      <Roles />
    </ProcessUser>
    <ProcessUser Id="010805fd-94ca-481a-92cf-f5041eb72278">
      <Name>Withdrawer</Name>
      <Description>The one who retrieves locked funds </Description>
      <Address>123</Address>
      <Roles />
    </ProcessUser>
  </Users>
  <DataModelDefinition>  &lt;DataTypes&gt;
    &lt;Entity Id="Root" Name="Datum" IsRootEntity="true"&gt;
      &lt;Property Id="lockedLovelace"  Name="lockedLovelace" IsMandatory="true" PropertyType="Single" DataType="Int" /&gt;
      &lt;Property Id="lockDeadline"  Name="lockDeadline" IsMandatory="true" PropertyType="Single" DataType="DateTime" /&gt;
      &lt;Property Id="messages"  Name="messages" IsMandatory="true" PropertyType="Collection" DataType="String" /&gt;
    &lt;/Entity&gt;
  &lt;/DataTypes&gt;</DataModelDefinition>
</Contract>